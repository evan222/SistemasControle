#:kivy 1.0.9

Interface:
	#amplitude: amplitude
	BoxLayout:
		orientation: "horizontal"
	#BOTOES
		BoxLayout:
			size_hint: [.5,1]
			orientation: "vertical"
			
			#MALHA
			BoxLayout:
				size_hint: [1,.8]
				orientation: "vertical"
				BoxLayout:
					size_hint: [1,1]
					orientation: "horizontal"
					ToggleButton:
						id: ma
						group: 'malha'
						state: 'down'
						background_normal: 'ondaup.png'
						background_down: 'ondadown.png'
						text: "Malha Aberta"
						on_press: root.MA()
					ToggleButton:
						id: mf #botaoquadrada
						group: 'malha'
						background_normal: 'ondaup.png'
						background_down: 'ondadown.png'
						text: "Malha Fechada"
						on_press: root.MF()
			#PID
			BoxLayout:
				size_hint: [1,0.6]
				orientation: "horizontal"
				ToggleButton:
					id: p
					group: 'pid'
					state: 'down'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "P"
					on_press: root.do_p()
				ToggleButton:
					id: pd
					group: 'pid'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "PD"
					on_press: root.do_pd()
				ToggleButton:
					id: pi
					group: 'pid'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "PI"
					on_press: root.do_pi()
				ToggleButton:
					id: pid
					group: 'pid'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "PID"
					on_press: root.do_pid()
				ToggleButton:
					id: pi_d 
					group: 'pid'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "PI-D"
					on_press: root.do_pi_d()
			
			#ONDA
			BoxLayout:
				size_hint: [1,1.2]
				orientation: "vertical"
				ToggleButton:
					id: bd
					group: 'onda'
					state: 'down'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "Onda Degrau"
					on_press: root.degrau()
				ToggleButton:
					id: bq #botaoquadrada
					group: 'onda'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "Onda Quadrada"
					on_press: root.quadrada()
				ToggleButton:
					id: bs
					group: 'onda'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "Onda Senoidal"
					on_press: root.senoide()		
				ToggleButton:
					id: bds
					group: 'onda'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "Onda Dente Serra"
					on_press: root.denteserra()
				ToggleButton:
					id: ba 
					group: 'onda'
					background_normal: 'ondaup.png'
					background_down: 'ondadown.png'
					text: "Onda Aleat√≥ria"
					on_press: root.aleatoria()
			
			#INPUTS
			BoxLayout:
				size_hint: [1,1.5]
				orientation: "horizontal"
				GridLayout:
					rows: 5
					cols: 1
					Label:
						id: tensaomin
						text: "Tensao Minima"
					Label:
						id: tensaomax
						text: "Tensao Maxima"
					Label:
						id: tensaoentrada
						text: "Tensao/cm de entrada (MF)"
					Label:
						id: offset
						text: "Offset"
					Label:
						id: periodo_label
						text: "Periodo"
				GridLayout:
					rows: 5
					cols: 3
					TextInput: 
						id: tensaomin
						multiline: False
						#input_filter: 'float'
						text: '0'
						off_text: root.tensao_min(tensaomin.text)
					Label:
						id: kp
						text: "KP"
					TextInput: 
						id: kp
						multiline: False
						#readonly: True
						text: '0.0'
						#input_filter: 'float'
						off_text: root.kp_in(kp.text)
						
					TextInput: 
						id: tensaomax
						multiline: False
						#input_filter: 'float'
						text: '0'
						off_text: root.tensao_max(tensaomax.text)
					Label:
						id: ki_label
						text: "KI"
					TextInput: 
						id: ki
						multiline: False
						#readonly: True
						disabled: True
						text: '0.0'
						#input_filter: 'float'
						off_text: root.ki_in(ki.text)
						
					TextInput: 
						id: tensaoentrada
						multiline: False
						#input_filter: 'float'
						text: '0.0'
						off_text: root.tensaoentrada(tensaoentrada.text)	
					Label:
						id: kd_label
						text: "KD"
					TextInput: 
						id: kd
						multiline: False
						disabled: True
						#readonly: True
						#input_filter: 'float'
						text: '0.0'
						off_text: root.kd_in(kd.text)
						
					TextInput: 
						id: offset
						multiline: False
						#input_filter: 'float'
						text: '0.0'
						off_text: root.offset(offset.text)
					Label:
						id: taui
						text: "Ti"
					TextInput: 
						id: taui
						multiline: False
						disabled: True
						#readonly: True
						#input_filter: 'float'
						text: '0.0'
						off_text: root.taui_in(taui.text)
						
					TextInput: 
						id: periodo
						multiline: False
						#input_filter: 'float'
						disabled: True
						text: '1.0'
						off_text: root.periodo(periodo.text)	
					
					Label:
						id: taud
						text: "Td"
					TextInput: 
						id: taud
						#readonly: True
						multiline: False
						disabled: True
						text: '0.0'
						#input_filter: 'float'
						off_text: root.taud_in(taud.text)					
					
					
					
			BoxLayout:
				size_hint: [1,0.8]
				orientation: "horizontal"
				Button:
					id: start
					background_normal: 'startup.png'
					background_down: 'startdown.png'
					border: 10,10,10,10
					text: "Start"
					on_press: root.startsaida()
				Button:
					id: stop
					background_normal: 'stopup.png'
					background_down: 'stopdown.png'
					border: 30,30,30,30
					text: "Stop"
					on_press: root.stop()	
		
		#Graficos
		
		
		BoxLayout:
			canvas.before:
				Color:
					rgba: 1, 1, 1, 1
				Rectangle:
					pos: self.pos
					size: self.size
			size_hint: [.5,1]
			orientation: "vertical"
			BoxLayout:
				size_hint: [1,.1]
				orientation: "vertical"
				Label:
					id:malha
					bold: True
					color: 0,0,0,1.0
					text: 'Malha Aberta'
			Graph:
				id:graphsaida
				xlabel:"Tempo"
				ylabel:"Tensao Saida"
				xmin: 0
				xmax: 100
				ymin: -5
				ymax: 30
				y_ticks_minor: 2
				y_ticks_major: 2
				y_grid: True
				y_grid_label: True
				tick_color: 0,0,0,1.0
				border_color: 0,0,0,1.0
				mesh_rect_color: 0,0,0,1.0
				label_options:{'color': (0,0,0,1)}
				
			Graph:
				id:graphentrada
				xlabel:"Tempo"
				ylabel:"Tensao Entrada"
				xmin: 0
				xmax: 100
				ymin: -4
				ymax: 28
				y_ticks_minor: 2
				y_ticks_major: 2
				y_grid: True
				y_grid_label: True
				tick_color: 0,0,0,1.0
				border_color: 0,0,0,1.0
				mesh_rect_color: 0,0,0,1.0
				label_options:{'color': (0,0,0,1)}
